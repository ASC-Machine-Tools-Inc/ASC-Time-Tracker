@model IEnumerable<Asc_Time_Tracker.Models.TimeLog>

@{
    ViewData["Title"] = "Logs";
}

<div class="card main-log-card">
    <div class="row card-header">
        <div class="col-sm-10 p-0">
            <!-- Date picker containers (slightly off-center, but eh) -->
            <div id="dayContainer"></div>
            <div id="weekContainer"></div>
            <div id="monthContainer"></div>
            <div id="rangeStartContainer"></div>
            <div id="rangeEndContainer"></div>

            <!-- Select which date picker to use. -->
            <div class="input-group d-inline-flex align-items-center w-auto">
                <label class="input-group-text" for="dateOption">Filter by</label>
                <select id="dateOption" class="form-select me-2">
                    <option>Day</option>
                    <option>Week</option>
                    <option>Month</option>
                    <option>All</option>
                    <option>Custom range</option>
                </select>
            </div>

            <!-- Date pickers -->
            <div class="input-group d-inline-flex align-items-center  flex-nowrap
                 w-auto mt-2 mt-md-0">
                <button type="button" class="btn date-prev shadow-none">
                    <i class="fas fa-arrow-left"></i>
                </button>

                <input type="text"
                       class="form-control date-picker day-picker text-center">
                <input type="text"
                       class="form-control date-picker week-picker text-center">
                <input type="text"
                       class="form-control date-picker month-picker text-center">
                <div id="dateRangePicker" class="input-group input-daterange">
                    <input type="text" class="form-control range-picker-start text-center">
                    <div class="input-group-text">to</div>
                    <input type="text" class="form-control ranger-picker-end text-center">
                </div>

                <button type="button" class="btn date-next shadow-none">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>

        <div class="col-sm-2 p-0">
            <button class="btn btn-primary float-sm-end mt-2 mt-sm-0">
                <i class="bi bi-download"></i>
                Export
            </button>
        </div>
    </div>
    <div class="row p-4">
        <!-- Logs display -->
        <div id="indexLogsView" class="col-lg-4 p-0 scroll">
            @await Html.PartialAsync("_IndexLogs")
        </div>
    </div>
</div>

<!-- Modals -->
<div class="modal fade" id="timeLogDeleteModal" tabindex="-1" role="dialog" aria-labelledby="timeLogDeleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="timeLogDeleteModalLabel">Delete this time log?</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <form method="post" asp-page-handler="Delete">
                    <input id="TimeLog_Id" name="TimeLog.Id" data-val="true" data-val-required="The ID field is required." type="hidden" />
                    <button type="submit" value="Delete" class="btn btn-danger">Yes, delete it</button>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts
{
    <script src="~/js/submit/deleteTimeLog.js"></script>
    <script src="~/js/ui/jobColor.js"></script>
    <script src="~/js/time/dateFilter.js"></script>

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}